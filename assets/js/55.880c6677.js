(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{581:function(e,t,r){"use strict";r.r(t);var o=r(2),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("blockquote",[r("p",[e._v("实现这样一个效果，监听页面的滚动的位置，并激活对应的 tab 项。\n"),r("img",{attrs:{src:e.$withBase("/images/scroll_listen/scroll@1.gif")}}),e._v("\n实现思路：")])]),e._v(" "),r("ol",[r("li",[e._v("页面滚动的监听函数 onscroll；")]),e._v(" "),r("li",[e._v("通过"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/offsetTop",target:"_blank",rel:"noopener noreferrer"}},[e._v("offsetTop"),r("OutboundLink")],1),e._v("获取元素到页面顶部的距离；")]),e._v(" "),r("li",[e._v("通过"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollTop",target:"_blank",rel:"noopener noreferrer"}},[e._v("scrollTop"),r("OutboundLink")],1),e._v("获取页面已经滚动的距离；")]),e._v(" "),r("li",[e._v("通过 offsetTop 和 scrollTop，计算出页面当前滚动到的内容区；")]),e._v(" "),r("li",[e._v("激活当前内容区的 tabItem；")]),e._v(" "),r("li",[e._v("加入防抖动函数，引入"),r("a",{attrs:{href:"https://www.lodashjs.com/docs/lodash.debounce",target:"_blank",rel:"noopener noreferrer"}},[e._v("Loash"),r("OutboundLink")],1),e._v("库。")])]),e._v(" "),r("p",[e._v("扩展"),r("br"),e._v("\n判断页面或元素是否滚动到底部")]),e._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[e._v("element"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("scrollHeight "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v(" element"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("scrollTop "),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("==")]),e._v(" element"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("clientHeight"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("p",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/scrollHeight#javascript",target:"_blank",rel:"noopener noreferrer"}},[e._v("示例"),r("OutboundLink")],1),r("br"),e._v(" "),r("code",[e._v("scrollHeight")]),e._v("：只读，返回一个元素内容的高度，包括溢出部分。"),r("br"),e._v(" "),r("code",[e._v("scrollTop")]),e._v("：元素内容顶部（卷起来）到视口可见内容（的顶部）的距离。"),r("br"),e._v(" "),r("code",[e._v("clientHeight")]),e._v("：只读，元素的可视区域"),r("strong",[e._v("距离")]),e._v("内容区域顶部的距离，包含内边距，但不包括滚动条，边框和外边距。")])])}),[],!1,null,null,null);t.default=s.exports}}]);